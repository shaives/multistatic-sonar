#! /usr/bin/perl


# Agadir -------------------

$INSTANCES{"Agadir"}{X} = 15;
$INSTANCES{"Agadir"}{Y} = 14;
$INSTANCES{"Agadir"}{rho_0} = 3;
$INSTANCES{"Agadir"}{rb} = 0.3;
#$INSTANCES{"Agadir"}{X} = 10;
#$INSTANCES{"Agadir"}{Y} = 9;
#$INSTANCES{"Agadir"}{rho_0} = 2;
#$INSTANCES{"Agadir"}{rb} = 0.2;

$INSTANCES{"Agadir"}{data} = "GMRTv3_4_20171109topo.asc";
$INSTANCES{"Agadir"}{S}[0] = 100;
$INSTANCES{"Agadir"}{R}[0] = 1;
$INSTANCES{"Agadir"}{S}[1] = 2;
$INSTANCES{"Agadir"}{R}[1] = 3;


# BabAlMandabStrait -------------------

$INSTANCES{"BabAlMandabStrait"}{X} = 12;
$INSTANCES{"BabAlMandabStrait"}{Y} = 11;
$INSTANCES{"BabAlMandabStrait"}{rho_0} = 4;
$INSTANCES{"BabAlMandabStrait"}{rb} = 0.4;
#$INSTANCES{"BabAlMandabStrait"}{X} = 8;
#$INSTANCES{"BabAlMandabStrait"}{Y} = 7;
#$INSTANCES{"BabAlMandabStrait"}{rho_0} = 3;
#$INSTANCES{"BabAlMandabStrait"}{rb} = 0.3;

$INSTANCES{"BabAlMandabStrait"}{data} = "GMRTv3_3_20170611topo.asc";
$INSTANCES{"BabAlMandabStrait"}{S}[0] = 100;
$INSTANCES{"BabAlMandabStrait"}{R}[0] = 1;
$INSTANCES{"BabAlMandabStrait"}{S}[1] = 1;
$INSTANCES{"BabAlMandabStrait"}{R}[1] = 3;


# BassStrait -------------------

$INSTANCES{"BassStrait"}{X} = 15;
$INSTANCES{"BassStrait"}{Y} = 12;
$INSTANCES{"BassStrait"}{rho_0} = 3;
$INSTANCES{"BassStrait"}{rb} = 0.3;
#$INSTANCES{"BassStrait"}{X} = 10;
#$INSTANCES{"BassStrait"}{Y} = 8;
#$INSTANCES{"BassStrait"}{rho_0} = 2;
#$INSTANCES{"BassStrait"}{rb} = 0.2;

$INSTANCES{"BassStrait"}{data} = "GMRTv3_4_20171110topo.asc";
$INSTANCES{"BassStrait"}{S}[0] = 100;
$INSTANCES{"BassStrait"}{R}[0] = 1;
$INSTANCES{"BassStrait"}{S}[1] = 2;
$INSTANCES{"BassStrait"}{R}[1] = 4;



# ChoctawhatcheeBay -------------------

$INSTANCES{"ChoctawhatcheeBay"}{X} = 20;
$INSTANCES{"ChoctawhatcheeBay"}{Y} = 8;
$INSTANCES{"ChoctawhatcheeBay"}{rho_0} = 4;
$INSTANCES{"ChoctawhatcheeBay"}{rb} = 0.4;
#$INSTANCES{"ChoctawhatcheeBay"}{X} = 13;
#$INSTANCES{"ChoctawhatcheeBay"}{Y} = 5;
#$INSTANCES{"ChoctawhatcheeBay"}{rho_0} = 3;
#$INSTANCES{"ChoctawhatcheeBay"}{rb} = 0.3;

$INSTANCES{"ChoctawhatcheeBay"}{data} = "GMRTv3_3_20170611topo.asc";
$INSTANCES{"ChoctawhatcheeBay"}{S}[0] = 100;
$INSTANCES{"ChoctawhatcheeBay"}{R}[0] = 1;
$INSTANCES{"ChoctawhatcheeBay"}{S}[1] = 2;
$INSTANCES{"ChoctawhatcheeBay"}{R}[1] = 4;


# Dardanelles -------------------

$INSTANCES{"Dardanelles"}{X} = 20;
$INSTANCES{"Dardanelles"}{Y} = 16;
$INSTANCES{"Dardanelles"}{rho_0} = 4;
$INSTANCES{"Dardanelles"}{rb} = 0.4;
#$INSTANCES{"Dardanelles"}{X} = 13;
#$INSTANCES{"Dardanelles"}{Y} = 11;
#$INSTANCES{"Dardanelles"}{rho_0} = 3;
#$INSTANCES{"Dardanelles"}{rb} = 0.3;

$INSTANCES{"Dardanelles"}{data} = "GMRTv3_3_20170610topo.asc";
$INSTANCES{"Dardanelles"}{S}[0] = 100;
$INSTANCES{"Dardanelles"}{R}[0] = 1;
$INSTANCES{"Dardanelles"}{S}[1] = 2;
$INSTANCES{"Dardanelles"}{R}[1] = 5;


# EnglishChannel -------------------

$INSTANCES{"EnglishChannel"}{X} = 16;
$INSTANCES{"EnglishChannel"}{Y} = 10;
$INSTANCES{"EnglishChannel"}{rho_0} = 4;
$INSTANCES{"EnglishChannel"}{rb} = 0.3;
#$INSTANCES{"EnglishChannel"}{X} = 11;
#$INSTANCES{"EnglishChannel"}{Y} = 7;
#$INSTANCES{"EnglishChannel"}{rho_0} = 3;
#$INSTANCES{"EnglishChannel"}{rb} = 0.2;

$INSTANCES{"EnglishChannel"}{data} = "GMRTv3_3_20170610topo.asc";
$INSTANCES{"EnglishChannel"}{S}[0] = 100;
$INSTANCES{"EnglishChannel"}{R}[0] = 1;
$INSTANCES{"EnglishChannel"}{S}[1] = 2;
$INSTANCES{"EnglishChannel"}{R}[1] = 5;


# Falklandsund -------------------

$INSTANCES{"Falklandsund"}{X} = 16;
$INSTANCES{"Falklandsund"}{Y} = 10;
$INSTANCES{"Falklandsund"}{rho_0} = 6;
$INSTANCES{"Falklandsund"}{rb} = 0.3;
#$INSTANCES{"Falklandsund"}{X} = 11;
#$INSTANCES{"Falklandsund"}{Y} = 7;
#$INSTANCES{"Falklandsund"}{rho_0} = 4;
#$INSTANCES{"Falklandsund"}{rb} = 0.2;

$INSTANCES{"Falklandsund"}{data} = "GMRTv3_3_20170611topo.asc";
$INSTANCES{"Falklandsund"}{S}[0] = 100;
$INSTANCES{"Falklandsund"}{R}[0] = 1;
$INSTANCES{"Falklandsund"}{S}[1] = 1;
$INSTANCES{"Falklandsund"}{R}[1] = 10;


# GulfOfAkaba -------------------

$INSTANCES{"GulfOfAkaba"}{X} = 7;
$INSTANCES{"GulfOfAkaba"}{Y} = 16;
$INSTANCES{"GulfOfAkaba"}{rho_0} = 4;
$INSTANCES{"GulfOfAkaba"}{rb} = 0.3;
#$INSTANCES{"GulfOfAkaba"}{X} = 5;
#$INSTANCES{"GulfOfAkaba"}{Y} = 12;
#$INSTANCES{"GulfOfAkaba"}{rho_0} = 3;
#$INSTANCES{"GulfOfAkaba"}{rb} = 0.2;

$INSTANCES{"GulfOfAkaba"}{data} = "GMRTv3_3_20170610topo.asc";
$INSTANCES{"GulfOfAkaba"}{S}[0] = 100;
$INSTANCES{"GulfOfAkaba"}{R}[0] = 1;
$INSTANCES{"GulfOfAkaba"}{S}[1] = 2;
$INSTANCES{"GulfOfAkaba"}{R}[1] = 3;


# GulfOfFinland -------------------

$INSTANCES{"GulfOfFinland"}{X} = 30;
$INSTANCES{"GulfOfFinland"}{Y} = 7;
$INSTANCES{"GulfOfFinland"}{rho_0} = 3;
$INSTANCES{"GulfOfFinland"}{rb} = 0.3;
#$INSTANCES{"GulfOfFinland"}{X} = 20;
#$INSTANCES{"GulfOfFinland"}{Y} = 5;
#$INSTANCES{"GulfOfFinland"}{rho_0} = 2;
#$INSTANCES{"GulfOfFinland"}{rb} = 0.2;

$INSTANCES{"GulfOfFinland"}{data} = "GMRTv3_3_20170610topo.asc";
$INSTANCES{"GulfOfFinland"}{S}[0] = 100;
$INSTANCES{"GulfOfFinland"}{R}[0] = 1;
$INSTANCES{"GulfOfFinland"}{S}[1] = 2;
$INSTANCES{"GulfOfFinland"}{R}[1] = 5;


# GulfOfSirte -------------------

$INSTANCES{"GulfOfSirte"}{X} = 16;
$INSTANCES{"GulfOfSirte"}{Y} = 9;
$INSTANCES{"GulfOfSirte"}{rho_0} = 4;
$INSTANCES{"GulfOfSirte"}{rb} = 0.4;
#$INSTANCES{"GulfOfSirte"}{X} = 11;
#$INSTANCES{"GulfOfSirte"}{Y} = 6;
#$INSTANCES{"GulfOfSirte"}{rho_0} = 3;
#$INSTANCES{"GulfOfSirte"}{rb} = 0.3;

$INSTANCES{"GulfOfSirte"}{data} = "GMRTv3_3_20170610topo.asc";
$INSTANCES{"GulfOfSirte"}{S}[0] = 100;
$INSTANCES{"GulfOfSirte"}{R}[0] = 1;
$INSTANCES{"GulfOfSirte"}{S}[1] = 2;
$INSTANCES{"GulfOfSirte"}{R}[1] = 2;


# KarkinytskaGulf -------------------

$INSTANCES{"KarkinytskaGulf"}{X} = 16;
$INSTANCES{"KarkinytskaGulf"}{Y} = 10;
$INSTANCES{"KarkinytskaGulf"}{rho_0} = 3;
$INSTANCES{"KarkinytskaGulf"}{rb} = 0.3;
#$INSTANCES{"KarkinytskaGulf"}{X} = 11;
#$INSTANCES{"KarkinytskaGulf"}{Y} = 7;
#$INSTANCES{"KarkinytskaGulf"}{rho_0} = 2;
#$INSTANCES{"KarkinytskaGulf"}{rb} = 0.2;

$INSTANCES{"KarkinytskaGulf"}{data} = "GMRTv3_3_20170610topo.asc";
$INSTANCES{"KarkinytskaGulf"}{S}[0] = 100;
$INSTANCES{"KarkinytskaGulf"}{R}[0] = 1;
$INSTANCES{"KarkinytskaGulf"}{S}[1] = 2;
$INSTANCES{"KarkinytskaGulf"}{R}[1] = 7;


# KerchStrait -------------------

$INSTANCES{"KerchStrait"}{X} = 16;
$INSTANCES{"KerchStrait"}{Y} = 10;
$INSTANCES{"KerchStrait"}{rho_0} = 3;
$INSTANCES{"KerchStrait"}{rb} = 0.3;
#$INSTANCES{"KerchStrait"}{X} = 11;
#$INSTANCES{"KerchStrait"}{Y} = 7;
#$INSTANCES{"KerchStrait"}{rho_0} = 2;
#$INSTANCES{"KerchStrait"}{rb} = 0.2;

$INSTANCES{"KerchStrait"}{data} = "GMRTv3_3_20170610topo.asc";
$INSTANCES{"KerchStrait"}{S}[0] = 100;
$INSTANCES{"KerchStrait"}{R}[0] = 1;
$INSTANCES{"KerchStrait"}{S}[1] = 4;
$INSTANCES{"KerchStrait"}{R}[1] = 11;


# LagoDeMaracaibo -------------------

$INSTANCES{"LagoDeMaracaibo"}{X} = 16;
$INSTANCES{"LagoDeMaracaibo"}{Y} = 16;
$INSTANCES{"LagoDeMaracaibo"}{rho_0} = 4;
$INSTANCES{"LagoDeMaracaibo"}{rb} = 0.4;
#$INSTANCES{"LagoDeMaracaibo"}{X} = 12;
#$INSTANCES{"LagoDeMaracaibo"}{Y} = 12;
#$INSTANCES{"LagoDeMaracaibo"}{rho_0} = 3;
#$INSTANCES{"LagoDeMaracaibo"}{rb} = 0.3;

$INSTANCES{"LagoDeMaracaibo"}{data} = "GMRTv3_3_20170611topo.asc";
$INSTANCES{"LagoDeMaracaibo"}{S}[0] = 100;
$INSTANCES{"LagoDeMaracaibo"}{R}[0] = 1;
$INSTANCES{"LagoDeMaracaibo"}{S}[1] = 2;
$INSTANCES{"LagoDeMaracaibo"}{R}[1] = 10;


# Lesbos -------------------

$INSTANCES{"Lesbos"}{X} = 15;
$INSTANCES{"Lesbos"}{Y} = 10;
$INSTANCES{"Lesbos"}{rho_0} = 3;
$INSTANCES{"Lesbos"}{rb} = 0.3;
#$INSTANCES{"Lesbos"}{X} = 10;
#$INSTANCES{"Lesbos"}{Y} = 7;
#$INSTANCES{"Lesbos"}{rho_0} = 2;
#$INSTANCES{"Lesbos"}{rb} = 0.2;

$INSTANCES{"Lesbos"}{data} = "GMRTv3_3_20170610topo.asc";
$INSTANCES{"Lesbos"}{S}[0] = 100;
$INSTANCES{"Lesbos"}{R}[0] = 1;
$INSTANCES{"Lesbos"}{S}[1] = 2;
$INSTANCES{"Lesbos"}{R}[1] = 10;


# MontereyPeninsular -------------------

$INSTANCES{"MontereyPeninsular"}{X} = 15;
$INSTANCES{"MontereyPeninsular"}{Y} = 10;
$INSTANCES{"MontereyPeninsular"}{rho_0} = 4;
$INSTANCES{"MontereyPeninsular"}{rb} = 0.4;
#$INSTANCES{"MontereyPeninsular"}{X} = 9;
#$INSTANCES{"MontereyPeninsular"}{Y} = 7;
#$INSTANCES{"MontereyPeninsular"}{rho_0} = 3;
#$INSTANCES{"MontereyPeninsular"}{rb} = 0.3;

$INSTANCES{"MontereyPeninsular"}{data} = "GMRTv3_3_20170309topo.asc";
$INSTANCES{"MontereyPeninsular"}{S}[0] = 100;
$INSTANCES{"MontereyPeninsular"}{R}[0] = 1;
$INSTANCES{"MontereyPeninsular"}{S}[1] = 2;
$INSTANCES{"MontereyPeninsular"}{R}[1] = 3;


# NewYork -------------------

$INSTANCES{"NewYork"}{X} = 15;
$INSTANCES{"NewYork"}{Y} = 14;
$INSTANCES{"NewYork"}{rho_0} = 4;
$INSTANCES{"NewYork"}{rb} = 0.4;
#$INSTANCES{"NewYork"}{X} = 9;
#$INSTANCES{"NewYork"}{Y} = 8;
#$INSTANCES{"NewYork"}{rho_0} = 3;
#$INSTANCES{"NewYork"}{rb} = 0.3;

$INSTANCES{"NewYork"}{data} = "GMRTv3_3_20170611topo.asc";
$INSTANCES{"NewYork"}{S}[0] = 100;
$INSTANCES{"NewYork"}{R}[0] = 1;
$INSTANCES{"NewYork"}{S}[1] = 2;
$INSTANCES{"NewYork"}{R}[1] = 3;


# OpenSea-Biscaya -------------------

$INSTANCES{"OpenSea-Biscaya"}{X} = 15;
$INSTANCES{"OpenSea-Biscaya"}{Y} = 9;
$INSTANCES{"OpenSea-Biscaya"}{rho_0} = 6;
$INSTANCES{"OpenSea-Biscaya"}{rb} = 0.6;
#$INSTANCES{"OpenSea-Biscaya"}{X} = 9;
#$INSTANCES{"OpenSea-Biscaya"}{Y} = 6;
#$INSTANCES{"OpenSea-Biscaya"}{rho_0} = 4;
#$INSTANCES{"OpenSea-Biscaya"}{rb} = 0.4;

$INSTANCES{"OpenSea-Biscaya"}{data} = "GMRTv3_3_20170615topo.asc";
$INSTANCES{"OpenSea-Biscaya"}{S}[0] = 100;
$INSTANCES{"OpenSea-Biscaya"}{R}[0] = 1;
$INSTANCES{"OpenSea-Biscaya"}{S}[1] = 1;
$INSTANCES{"OpenSea-Biscaya"}{R}[1] = 2;


# Oresund -------------------

$INSTANCES{"Oresund"}{X} = 24;
$INSTANCES{"Oresund"}{Y} = 16;
$INSTANCES{"Oresund"}{rho_0} = 6;
$INSTANCES{"Oresund"}{rb} = 0.6;
#$INSTANCES{"Oresund"}{X} = 16;
#$INSTANCES{"Oresund"}{Y} = 12;
#$INSTANCES{"Oresund"}{rho_0} = 4;
#$INSTANCES{"Oresund"}{rb} = 0.4;

$INSTANCES{"Oresund"}{data} = "GMRTv3_3_20170610topo.asc";
$INSTANCES{"Oresund"}{S}[0] = 100;
$INSTANCES{"Oresund"}{R}[0] = 1;
$INSTANCES{"Oresund"}{S}[1] = 3;
$INSTANCES{"Oresund"}{R}[1] = 7;


# RekaBuorYuryakh -------------------

$INSTANCES{"RekaBuorYuryakh"}{X} = 16;
$INSTANCES{"RekaBuorYuryakh"}{Y} = 12;
$INSTANCES{"RekaBuorYuryakh"}{rho_0} = 6;
$INSTANCES{"RekaBuorYuryakh"}{rb} = 0.3;
#$INSTANCES{"RekaBuorYuryakh"}{X} = 11;
#$INSTANCES{"RekaBuorYuryakh"}{Y} = 8;
#$INSTANCES{"RekaBuorYuryakh"}{rho_0} = 4;
#$INSTANCES{"RekaBuorYuryakh"}{rb} = 0.2;

$INSTANCES{"RekaBuorYuryakh"}{data} = "GMRTv3_4_20171110topo.asc";
$INSTANCES{"RekaBuorYuryakh"}{S}[0] = 100;
$INSTANCES{"RekaBuorYuryakh"}{R}[0] = 1;
$INSTANCES{"RekaBuorYuryakh"}{S}[1] = 2;
$INSTANCES{"RekaBuorYuryakh"}{R}[1] = 4;


# Ruegen -------------------

$INSTANCES{"Ruegen"}{X} = 12;
$INSTANCES{"Ruegen"}{Y} = 12;
$INSTANCES{"Ruegen"}{rho_0} = 4;
$INSTANCES{"Ruegen"}{rb} = 0.4;
#$INSTANCES{"Ruegen"}{X} = 8;
#$INSTANCES{"Ruegen"}{Y} = 8;
#$INSTANCES{"Ruegen"}{rho_0} = 3;
#$INSTANCES{"Ruegen"}{rb} = 0.3;

$INSTANCES{"Ruegen"}{data} = "GMRTv3_3_20170610topo.asc";
$INSTANCES{"Ruegen"}{S}[0] = 100;
$INSTANCES{"Ruegen"}{R}[0] = 1;
$INSTANCES{"Ruegen"}{S}[1] = 2;
$INSTANCES{"Ruegen"}{R}[1] = 2;


# Smalandsfarvandet -------------------

$INSTANCES{"Smalandsfarvandet"}{X} = 19;
$INSTANCES{"Smalandsfarvandet"}{Y} = 12;
$INSTANCES{"Smalandsfarvandet"}{rho_0} = 4;
$INSTANCES{"Smalandsfarvandet"}{rb} = 0.4;
#$INSTANCES{"Smalandsfarvandet"}{X} = 13;
#$INSTANCES{"Smalandsfarvandet"}{Y} = 8;
#$INSTANCES{"Smalandsfarvandet"}{rho_0} = 3;
#$INSTANCES{"Smalandsfarvandet"}{rb} = 0.3;

$INSTANCES{"Smalandsfarvandet"}{data} = "GMRTv3_3_20170610topo.asc";
$INSTANCES{"Smalandsfarvandet"}{S}[0] = 100;
$INSTANCES{"Smalandsfarvandet"}{R}[0] = 1;
$INSTANCES{"Smalandsfarvandet"}{S}[1] = 3;
$INSTANCES{"Smalandsfarvandet"}{R}[1] = 5;


# Storebaelt -------------------

$INSTANCES{"Storebaelt"}{X} = 9;
$INSTANCES{"Storebaelt"}{Y} = 18;
$INSTANCES{"Storebaelt"}{rho_0} = 4;
$INSTANCES{"Storebaelt"}{rb} = 0.4;
#$INSTANCES{"Storebaelt"}{X} = 6;
#$INSTANCES{"Storebaelt"}{Y} = 12;
#$INSTANCES{"Storebaelt"}{rho_0} = 3;
#$INSTANCES{"Storebaelt"}{rb} = 0.3;

$INSTANCES{"Storebaelt"}{data} = "GMRTv3_3_20170610topo.asc";
$INSTANCES{"Storebaelt"}{S}[0] = 100;
$INSTANCES{"Storebaelt"}{R}[0] = 1;
$INSTANCES{"Storebaelt"}{S}[1] = 2;
$INSTANCES{"Storebaelt"}{R}[1] = 3;


# StraitOfGibraltar -------------------

$INSTANCES{"StraitOfGibraltar"}{X} = 16;
$INSTANCES{"StraitOfGibraltar"}{Y} = 10;
$INSTANCES{"StraitOfGibraltar"}{rho_0} = 4;
$INSTANCES{"StraitOfGibraltar"}{rb} = 0.4;
#$INSTANCES{"StraitOfGibraltar"}{X} = 11;
#$INSTANCES{"StraitOfGibraltar"}{Y} = 7;
#$INSTANCES{"StraitOfGibraltar"}{rho_0} = 3;
#$INSTANCES{"StraitOfGibraltar"}{rb} = 0.3;

$INSTANCES{"StraitOfGibraltar"}{data} = "GMRTv3_3_20170610topo.asc";
$INSTANCES{"StraitOfGibraltar"}{S}[0] = 100;
$INSTANCES{"StraitOfGibraltar"}{R}[0] = 1;
$INSTANCES{"StraitOfGibraltar"}{S}[1] = 2;
$INSTANCES{"StraitOfGibraltar"}{R}[1] = 3;


# StraitOfHormuz -------------------

$INSTANCES{"StraitOfHormuz"}{X} = 14;
$INSTANCES{"StraitOfHormuz"}{Y} = 12;
$INSTANCES{"StraitOfHormuz"}{rho_0} = 4;
$INSTANCES{"StraitOfHormuz"}{rb} = 0.4;
#$INSTANCES{"StraitOfHormuz"}{X} = 9;
#$INSTANCES{"StraitOfHormuz"}{Y} = 8;
#$INSTANCES{"StraitOfHormuz"}{rho_0} = 3;
#$INSTANCES{"StraitOfHormuz"}{rb} = 0.3;

$INSTANCES{"StraitOfHormuz"}{data} = "GMRTv3_3_20170611topo.asc";
$INSTANCES{"StraitOfHormuz"}{S}[0] = 100;
$INSTANCES{"StraitOfHormuz"}{R}[0] = 1;
$INSTANCES{"StraitOfHormuz"}{S}[1] = 2;
$INSTANCES{"StraitOfHormuz"}{R}[1] = 3;


# StraitOfJuanDeFuca -------------------

$INSTANCES{"StraitOfJuanDeFuca"}{X} = 12;
$INSTANCES{"StraitOfJuanDeFuca"}{Y} = 11;
$INSTANCES{"StraitOfJuanDeFuca"}{rho_0} = 3;
$INSTANCES{"StraitOfJuanDeFuca"}{rb} = 0.3;
#$INSTANCES{"StraitOfJuanDeFuca"}{X} = 8;
#$INSTANCES{"StraitOfJuanDeFuca"}{Y} = 7;
#$INSTANCES{"StraitOfJuanDeFuca"}{rho_0} = 2;
#$INSTANCES{"StraitOfJuanDeFuca"}{rb} = 0.2;

$INSTANCES{"StraitOfJuanDeFuca"}{data} = "GMRTv3_4_20171029topo.asc";
$INSTANCES{"StraitOfJuanDeFuca"}{S}[0] = 100;
$INSTANCES{"StraitOfJuanDeFuca"}{R}[0] = 1;
$INSTANCES{"StraitOfJuanDeFuca"}{S}[1] = 1;
$INSTANCES{"StraitOfJuanDeFuca"}{R}[1] = 3;


# TaedongGang -------------------

$INSTANCES{"TaedongGang"}{X} = 15;
$INSTANCES{"TaedongGang"}{Y} = 14;
$INSTANCES{"TaedongGang"}{rho_0} = 4;
$INSTANCES{"TaedongGang"}{rb} = 0.4;
#$INSTANCES{"TaedongGang"}{X} = 9;
#$INSTANCES{"TaedongGang"}{Y} = 8;
#$INSTANCES{"TaedongGang"}{rho_0} = 3;
#$INSTANCES{"TaedongGang"}{rb} = 0.3;

$INSTANCES{"TaedongGang"}{data} = "GMRTv3_3_20170611topo.asc";
$INSTANCES{"TaedongGang"}{S}[0] = 100;
$INSTANCES{"TaedongGang"}{R}[0] = 1;
$INSTANCES{"TaedongGang"}{S}[1] = 2;
$INSTANCES{"TaedongGang"}{R}[1] = 3;


# Vaeinameri -------------------

$INSTANCES{"Vaeinameri"}{X} = 15;
$INSTANCES{"Vaeinameri"}{Y} = 15;
$INSTANCES{"Vaeinameri"}{rho_0} = 4;
$INSTANCES{"Vaeinameri"}{rb} = 0.4;
#$INSTANCES{"Vaeinameri"}{X} = 9;
#$INSTANCES{"Vaeinameri"}{Y} = 9;
#$INSTANCES{"Vaeinameri"}{rho_0} = 3;
#$INSTANCES{"Vaeinameri"}{rb} = 0.3;

$INSTANCES{"Vaeinameri"}{data} = "GMRTv3_3_20170610topo.asc";
$INSTANCES{"Vaeinameri"}{S}[0] = 100;
$INSTANCES{"Vaeinameri"}{R}[0] = 1;
$INSTANCES{"Vaeinameri"}{S}[1] = 3;
$INSTANCES{"Vaeinameri"}{R}[1] = 3;


# WaccasassaBay -------------------

$INSTANCES{"WaccasassaBay"}{X} = 15;
$INSTANCES{"WaccasassaBay"}{Y} = 14;
$INSTANCES{"WaccasassaBay"}{rho_0} = 6;
$INSTANCES{"WaccasassaBay"}{rb} = 0.6;
#$INSTANCES{"WaccasassaBay"}{X} = 10;
#$INSTANCES{"WaccasassaBay"}{Y} = 9;
#$INSTANCES{"WaccasassaBay"}{rho_0} = 4;
#$INSTANCES{"WaccasassaBay"}{rb} = 0.4;

$INSTANCES{"WaccasassaBay"}{data} = "GMRTv3_4_20171110topo.asc";
$INSTANCES{"WaccasassaBay"}{S}[0] = 100;
$INSTANCES{"WaccasassaBay"}{R}[0] = 1;
$INSTANCES{"WaccasassaBay"}{S}[1] = 2;
$INSTANCES{"WaccasassaBay"}{R}[1] = 5;


# WonsanBay -------------------

$INSTANCES{"WonsanBay"}{X} = 15;
$INSTANCES{"WonsanBay"}{Y} = 14;
$INSTANCES{"WonsanBay"}{rho_0} = 4;
$INSTANCES{"WonsanBay"}{rb} = 0.4;
#$INSTANCES{"WonsanBay"}{X} = 9;
#$INSTANCES{"WonsanBay"}{Y} = 8;
#$INSTANCES{"WonsanBay"}{rho_0} = 3;
#$INSTANCES{"WonsanBay"}{rb} = 0.3;

$INSTANCES{"WonsanBay"}{data} = "GMRTv3_3_20170611topo.asc";
$INSTANCES{"WonsanBay"}{S}[0] = 100;
$INSTANCES{"WonsanBay"}{R}[0] = 1;
$INSTANCES{"WonsanBay"}{S}[1] = 2;
$INSTANCES{"WonsanBay"}{R}[1] = 2;



$restart_at = $ARGV[0];

$run = 0;

if ($restart_at ne "") {
  print "restart at: $restart_at\n";
}
else {
  print "start from scratch\n";
  open (LOG, ">bisonranch.log") or die "can't create 'bisonranch.log'\n";
  print LOG "#instance\tX\tY\trho0\trb\tGOAL\tCC\tMODTY\tBND\tpxl\ttrpl\ttime\tstat\tpval\tdval\tgap\n";
  close (LOG);
  $run = 1;
}

foreach $instance (sort keys %INSTANCES) {
  print $instance,"\n";
  $X = $INSTANCES{$instance}{X};
  $Y = $INSTANCES{$instance}{Y};
  $rho0 = $INSTANCES{$instance}{rho_0};
  $rb = $INSTANCES{$instance}{rb};
  $data = $INSTANCES{$instance}{data}; 
  
  for $GOAL (0..1) {
    $S = $INSTANCES{$instance}{S}[$GOAL];
    $R = $INSTANCES{$instance}{R}[$GOAL];
    
    for $BOUND (0..0) {
      $restart_mark = "$instance-$GOAL-$CC-$MODELTYPE-$BOUND";

      #print $restart_mark," vs. ",$restart_at,"\n";

      if ($restart_mark eq $restart_at) {
        $run = 1;
      }
                
      if ($run == 1) {
        print " GOAL = $GOAL, X = $X, Y = $Y, rho0 = $rho0, rb = $rb, CC = $CC, MODELTYPE = $MODELTYPE, BOUND = $BOUND (restart mark: $restart_mark)\n";
      
        # do it
      
        open (OUT, ">$instance.py") or die "can't create '$instance.py'\n";
        
        print OUT "
DIR = \"Instances/$instance/\" # directory where to find input and store output files
INPUT = \"$data\" # file name of ocean floor data

X = $X # number of pixels in x-direction
Y = $Y # number of pixels in y-direction

GOAL = $GOAL # optimization goal: cover all pixels, minimize cost for deployed equipment (0) or deploy equipment, maximize coverage (1)

S = $S # EITHER: cost for each deployed source (if GOAL=0), OR: number of deployed sources (if GOAL=1)
R = $R # EITHER: cost for each deployed receiver (if GOAL=0), OR: number of deployed receivers (if GOAL=1)

rho_0 = $rho0 # range of the day (in pixels)
rb = $rb # pulse length (for direct-blast-effect) (in pixels)

BOUND = $BOUND # for models 3-14: 0=individual bound per row, 1=min/max over all rows

USERCUTS = 0 # 0=no user cuts, 1=user cuts on

USERCUTSTRENGTH = 1.0 # how deep must user cuts be to be separated?

SOLVE = 2 # 0=only root relaxation, 1=root+cuts, 2=to the end (optimality or timelimit reached)

TIMELIMIT = 10000 # time limit in seconds
";
            
        close (OUT);
        
        # solve it
        
        $OS = `./bison.py $instance`;
        
        #print $OS;
        
        $OS =~ /number of ocean pixels: (.*)\n/;
        $pxl = $1 + 0;
        
        $OS =~ /sec to get (.*) detection triples/;
        $trpl = $1 + 0;
        
        $OS =~ /it took (.*) sec to solve/;
        $soltime = $1 + 0;
        
        if ($OS =~ /No solution available/) {
          $stat = "---";
          $pval = "---";
        }
        
        if ($OS =~ /MIP optimal/ or $OS =~ /MIP time limit feasible/) {
          $stat = "feas";
          
          $OS =~ /Solution value = (.*)\n/;
          $pval = $1 + 0;
        }
        
        if ($OS =~ /Best bound = (.*)\n/) {
          $dval = $1 + 0;
        }
        
        if ($OS =~ /MIP gap = (.*)\n/) {
          $gap = $1;
        }
        
        # append to log
        
        open (LOG, ">>bisonranch.log") or die "can't create 'bisonranch.log'\n";

        print LOG "$instance\t$X\t$Y\t$rho0\t$rb\t$GOAL\t$CC\t$MODELTYPE\t$BOUND\t$pxl\t$trpl\t$soltime\t$stat\t$pval\t$dval\t$gap\n";
        close (LOG);
        
        
        if ($MODELTYPE <=2) { # no bound change for some models
          last;
        }
      }
    }
  }
}




